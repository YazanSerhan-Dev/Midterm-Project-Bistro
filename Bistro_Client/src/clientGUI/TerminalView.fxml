<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="Client.TerminalController"
            prefWidth="980" prefHeight="620">

    <padding>
        <Insets top="10" right="10" bottom="10" left="10"/>
    </padding>

    <!-- TOP BAR -->
    <top>
        <HBox spacing="10" style="-fx-alignment: CENTER_LEFT;">
            <children>
                <Label text="Terminal" style="-fx-font-size: 18px; -fx-font-weight: bold;"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Label fx:id="lblConnectionStatus" text="Status: Not connected (UI demo)"/>
                <Button text="Pay Bill" onAction="#onGoToPayBill"/>
                <Button text="Back" onAction="#onBack"/>
                <Button text="Logout" onAction="#onLogout"/>
            </children>
        </HBox>
    </top>

    <!-- LEFT SIDE (Actions + Lost code) -->
    <left>
        <VBox spacing="12" prefWidth="240"
              style="-fx-background-color: #f4f4f4; -fx-background-radius: 10;">
            <padding>
                <Insets top="12" right="12" bottom="12" left="12"/>
            </padding>

            <children>
                <Label text="Actions" style="-fx-font-weight: bold; -fx-font-size: 14px;"/>
                <Button fx:id="btnCheckIn" text="Check-in" maxWidth="Infinity"
                        onAction="#onCheckIn" disable="true"/>
                        <Button
        fx:id="btnJoinWaitingList"
        text="Join Waiting List"
        onAction="#onJoinWaitingList"
        disable="true"
        maxWidth="Infinity"/>

<Button
        fx:id="btnLeaveWaitingList"
        text="Leave Waiting List"
        onAction="#onLeaveWaitingList"
        disable="true"
        maxWidth="Infinity"/>
                        

                <Separator/>

                <Label text="I lost my confirmation code" style="-fx-font-weight: bold;"/>
                <TextField fx:id="txtRecoverPhoneOrEmail" promptText="Phone or Email"/>
                <Button text="Send my code" maxWidth="Infinity" onAction="#onRecoverCode"/>
                <Label fx:id="lblRecoverResult" text="" wrapText="true"
                       style="-fx-text-fill: #333333;"/>
            </children>
        </VBox>
    </left>

    <!-- CENTER CONTENT -->
    <center>
        <VBox spacing="12">

            <!-- CODE INPUT -->
            <VBox spacing="8"
                  style="-fx-border-color: #dddddd; -fx-border-radius: 10; -fx-background-radius: 10; -fx-padding: 12;">
                <children>
                    <Label text="Confirmation Code" style="-fx-font-weight: bold;"/>
                    <HBox spacing="10">
                        <children>
                            <TextField fx:id="txtConfirmationCode"
                                       promptText="Enter code (e.g., A1B2C3)"
                                       prefWidth="260"/>
                            <Button text="Validate" onAction="#onValidateCode"/>
                            <Button text="Clear" onAction="#onClear"/>
                            <Region HBox.hgrow="ALWAYS"/>
                            <Label fx:id="lblValidationResult" text=""
                                   style="-fx-font-weight: bold;"/>
                        </children>
                    </HBox>

                    <Label text="Note: If no suitable table is free, customer will be asked to wait."
                           style="-fx-font-size: 11px; -fx-text-fill: #555555;"/>
                </children>
            </VBox>

            <!-- RESERVATION DETAILS -->
            <VBox spacing="10"
                  style="-fx-border-color: #dddddd; -fx-border-radius: 10; -fx-background-radius: 10; -fx-padding: 12;">
                <children>
                    <Label text="Reservation Details" style="-fx-font-weight: bold;"/>
                    <GridPane hgap="12" vgap="10">
    <children>
        <Label text="Reservation ID:" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
        <Label fx:id="lblResId" text="-" GridPane.rowIndex="0" GridPane.columnIndex="1"/>

        <Label text="Reservation Time:" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
        <Label fx:id="lblResDateTime" text="-" GridPane.rowIndex="1" GridPane.columnIndex="1"/>

        <Label text="Number of Guests:" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
        <Label fx:id="lblResGuests" text="-" GridPane.rowIndex="2" GridPane.columnIndex="1"/>
    </children>
</GridPane>

                </children>
            </VBox>

            <!-- TABLE ASSIGNMENT -->
            <VBox spacing="10"
                  style="-fx-border-color: #dddddd; -fx-border-radius: 10; -fx-background-radius: 10; -fx-padding: 12;">
                <children>
                    <Label text="Table Assignment" style="-fx-font-weight: bold;"/>
                    <HBox spacing="10" style="-fx-alignment: CENTER_LEFT;">
                        <children>
                            <Label text="Table:"/>
                            <Label fx:id="lblTableNumber" text="-" style="-fx-font-size: 16px; -fx-font-weight: bold;"/>
                            <Region HBox.hgrow="ALWAYS"/>
                            <Label fx:id="lblWaitMessage" text="" style="-fx-font-weight: bold;"/>
                        </children>
                    </HBox>
                </children>
            </VBox>

        </VBox>
    </center>

    <!-- BOTTOM STATUS -->
    <bottom>
        <HBox spacing="10" style="-fx-alignment: CENTER_LEFT;">
            <children>
                <Label fx:id="lblTerminalStatus" text="Ready."/>
            </children>
        </HBox>
    </bottom>

</BorderPane>

