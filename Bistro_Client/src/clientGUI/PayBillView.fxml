<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox xmlns="http://javafx.com/javafx/21"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="Client.PayBillController"
      spacing="12" prefWidth="980" prefHeight="620">

    <padding>
        <Insets top="16" right="16" bottom="16" left="16"/>
    </padding>

    <!-- Header -->
    <HBox spacing="10" style="-fx-alignment: CENTER_LEFT;">
        <children>
            <Label text="Pay Bill" style="-fx-font-size: 18px; -fx-font-weight: bold;"/>
            <Region HBox.hgrow="ALWAYS"/>
            <Button text="Terminal" onAction="#onGoToTerminal"/>
            <Button text="Back" onAction="#onBack"/>
            <Button text="Logout" onAction="#onLogout"/>
        </children>
    </HBox>

    <!-- Lookup -->
    <VBox spacing="8"
          style="-fx-border-color: #dddddd; -fx-border-radius: 10; -fx-background-radius: 10; -fx-padding: 12;">
        <children>
            <Label text="Find Bill by Confirmation Code" style="-fx-font-weight: bold;"/>
            <HBox spacing="10">
                <children>
                    <TextField fx:id="txtBillCode" promptText="Enter code (e.g., A1B2C3)" prefWidth="260"/>
                    <Button text="Find Bill" onAction="#onFindBill"/>
                    <Button text="Clear" onAction="#onClear"/>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Label fx:id="lblBillLookupStatus" text=""/>
                </children>
            </HBox>
        </children>
    </VBox>

    <!-- Summary card -->
    <VBox spacing="10"
          style="-fx-border-color: #dddddd; -fx-border-radius: 10; -fx-background-radius: 10; -fx-padding: 12;">
        <children>
            <HBox spacing="10" style="-fx-alignment: CENTER_LEFT;">
                <children>
                    <Label text="Bill Summary" style="-fx-font-weight: bold;"/>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Label fx:id="lblSubscriberBadge" text="" style="-fx-font-weight: bold;"/>
                </children>
            </HBox>

            <GridPane hgap="12" vgap="10">
                <children>
                    <Label text="Customer:" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                    <Label fx:id="lblBillCustomerName" text="-" GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                    <Label text="Items:" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                    <Label fx:id="lblBillItemsCount" text="-" GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                    <Label text="Due Date:" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
                    <Label fx:id="lblBillDueDate" text="-" GridPane.rowIndex="2" GridPane.columnIndex="1"/>

                    <Label text="Subtotal:" GridPane.rowIndex="0" GridPane.columnIndex="2"/>
                    <Label fx:id="lblBillSubtotal" text="-" GridPane.rowIndex="0" GridPane.columnIndex="3"/>

                    <Label text="Discount:" GridPane.rowIndex="1" GridPane.columnIndex="2"/>
                    <Label fx:id="lblBillDiscount" text="-" GridPane.rowIndex="1" GridPane.columnIndex="3"/>

                    <Label text="Total:" GridPane.rowIndex="2" GridPane.columnIndex="2"/>
                    <Label fx:id="lblBillTotal" text="-" GridPane.rowIndex="2" GridPane.columnIndex="3"/>
                </children>
            </GridPane>

            <Label text="Note: Subscribers get 10% discount. Paying releases the table immediately."
                   style="-fx-font-size: 11px; -fx-text-fill: #555555;"/>
        </children>
    </VBox>

    <!-- Payment method -->
    <VBox spacing="10"
          style="-fx-border-color: #dddddd; -fx-border-radius: 10; -fx-background-radius: 10; -fx-padding: 12;">
        <children>
            <Label text="Payment Method" style="-fx-font-weight: bold;"/>
            <HBox spacing="16">
                <children>
                    <RadioButton fx:id="rbCreditCard" text="Credit Card"/>
                    <RadioButton fx:id="rbCash" text="Cash (Demo)"/>
                </children>
            </HBox>

            <!-- Card fields -->
            <GridPane fx:id="cardFieldsPane" hgap="12" vgap="10">
                <children>
                    <Label text="Card Number:" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                    <TextField fx:id="txtCardNumber" promptText="1234 5678 9012 3456"
                               GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                    <Label text="Expiry:" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                    <TextField fx:id="txtCardExpiry" promptText="MM/YY"
                               GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                    <Label text="CVV:" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
                    <TextField fx:id="txtCardCvv" promptText="123"
                               GridPane.rowIndex="2" GridPane.columnIndex="1"/>

                    <Label text="Card Holder:" GridPane.rowIndex="3" GridPane.columnIndex="0"/>
                    <TextField fx:id="txtCardHolder" promptText="Full name"
                               GridPane.rowIndex="3" GridPane.columnIndex="1"/>
                </children>
            </GridPane>
        </children>
    </VBox>

    <!-- Actions -->
    <HBox spacing="10" style="-fx-alignment: CENTER_LEFT;">
        <children>
            <Button fx:id="btnPayNow" text="Pay Now" onAction="#onPayNow" disable="true"/>
            <Label fx:id="lblPaymentResult" text="" style="-fx-font-weight: bold;"/>
        </children>
    </HBox>

</VBox>

