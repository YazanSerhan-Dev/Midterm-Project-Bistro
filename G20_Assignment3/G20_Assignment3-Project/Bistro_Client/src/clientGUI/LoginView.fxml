<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>

<!--
  Login screen updated to use CSS (no inline styles).
  Keep existing fx:id and onAction handlers:
    - lblConn, tfUsername, pfPassword, lblMsg
    - onLoginSubscriber, onLoginAgent, onContinueCustomer
  Add optional ids for buttons: btnSubscriber, btnStaff, btnCustomer
-->

<StackPane xmlns="http://javafx.com/javafx"
           xmlns:fx="http://javafx.com/fxml"
           fx:controller="Client.LoginController"
           prefWidth="700" prefHeight="420"
           stylesheets="@/Styles/login.css"
           styleClass="root-bg">

    <!-- Card -->
    <BorderPane maxWidth="640" maxHeight="360" styleClass="login-card">

        <!-- Left branding panel -->
        <left>
            <VBox spacing="10" prefWidth="230" styleClass="brand-panel">
                <padding><Insets top="22" right="22" bottom="22" left="22"/></padding>
                <Label text="Bistro" styleClass="brand-title"/>
                <Label text="Client App" styleClass="brand-subtitle"/>

                
                <ImageView fx:id="imgBrand"
                           fitWidth="160"
                           preserveRatio="true"
                           smooth="true"
                           styleClass="brand-image">
                    <image>
                        <Image url="@/logos/bistro_logo.png"/>
                    </image>
                </ImageView>
<Region VBox.vgrow="ALWAYS"/>

                <HBox spacing="8" alignment="CENTER_LEFT">
                    <Label text="â—" fx:id="lblConnDot"
                           styleClass="conn-dot conn-dot-amber"/>
                    <Label fx:id="lblConn" text="Connecting..." styleClass="conn-text"/>
                </HBox>

                <Label text="Tip: Customers can continue without logging in."
                       wrapText="true" styleClass="tip-text"/>
            </VBox>
        </left>

        <!-- Right form panel -->
        <center>
            <VBox spacing="12">
                <padding><Insets top="24" right="24" bottom="24" left="24"/></padding>
                <Label text="Login" styleClass="form-title"/>

                <Label fx:id="lblMsg" text="" wrapText="true" styleClass="msg-error"/>

                <VBox spacing="6">
                    <Label text="Username" styleClass="field-label"/>
                    <TextField fx:id="tfUsername" promptText="Enter username" styleClass="text-input"/>
                </VBox>

                <VBox spacing="6">
                    <Label text="Password" styleClass="field-label"/>
                    <PasswordField fx:id="pfPassword" promptText="Enter password" styleClass="text-input"/>
                </VBox>

                <HBox spacing="10">
                    <Button fx:id="btnSubscriber"
                            text="Sign in as Subscriber"
                            onAction="#onLoginSubscriber"
                            prefWidth="210"
                            styleClass="btn-primary"/>
                    <Button fx:id="btnStaff"
                            text="Sign in as Agent/Manager"
                            onAction="#onLoginAgent"
                            prefWidth="210"
                            styleClass="btn-dark"/>
                </HBox>

                <Separator/>

                <Button fx:id="btnCustomer"
                        text="Continue as Customer (no login)"
                        onAction="#onContinueCustomer"
                        prefWidth="440"
                        styleClass="btn-outline"/>
                        
                        <Button text="Go to Terminal"
				        onAction="#onGoToTerminal"
				        maxWidth="Infinity"
				        mnemonicParsing="false"
				        styleClass="btn-outline">
				                            <graphic>
        				<ImageView fitWidth="16" fitHeight="16" preserveRatio="true" opacity="0.90">
            				<image>
                				<Image url="@/logos/square-terminal.png"/>
            				</image>
        				</ImageView>
        				</graphic>
        				</Button>
                        
                <Label text="If you're staff, use your employee credentials."
                       styleClass="helper-text"/>
            </VBox>
        </center>

    </BorderPane>
</StackPane>